language: ruby

services:
  - docker

env:
  global:
    - secure: RcBuzM+b/gw+H/mPjLFRY4cxXamRnnYcQ5z2zJ1qaN4xZaLAu+05MHNlmruU+zjby3gKcFZzGsYGRR7Y84IQ6Ng2k7V9WPmnToXt7uF1YXwSCkPXUGnrYekFv9WUWmhB6D44nAG0/u4BGpViJfs5q7WRbPEXdCVPR5rJK+TPOzhEr0YrLrXmAq3k1J1AndzNHdhRfTaZLpPNMTaBVm/LG71Re/LIomg+PrnHdT+E757cPqWuzXObAdgMkOJyL7giaer2nwuROmhww/cCWK55e+hFKM33wpwsu7Mwl479ZCSmqjRxphGK4eC+RcIOKMLcbH5B+abhhjFL3/pfyrJr6L9x2ia8lPYHG2N9vlVb0iq54to9jCUusLYoIZaNfiaOnoZgHnLPRL54XC2+5nw6tclwOYu8+jMTAuCibGO0FP6YfT4s7PO/lgnPFPeosb0538bVUe1ERb4iXO0yW7/3HqrtL+fxyvIe+lzugSCfBPPyYoUAfIgDPT/6eXslyiFjcUP0lseOZXlwiCN/9wLYseMfLhz8VPVtQq5vwvKNb99it+mRwLmZET8YrVfR4ljb1lndhyjNkoiGe2gMRtyQ4IIr63R0+ebtnxNuZtV62D8tqqG6cgb64pBOFgCioo2xqQH2QcOKGI4/OuPXDNejzCh5knUWtVEAAc/kc3/VEIc=
    - secure: XEqY7aZKl3+5miupwatmDIdMVtSb/cfc7SO7WFmfPO8hE/pCLLnrenSL7dgJeoE+vp+NV5sJ71/h/G/V4//Pr5walQX1bYeB/NyC5TsvHYrnZkFSX+HiqJ661XF1XkYMETmOUOWya0+GtsxsmPHXdqsZdQXi/o0d6k3gzyOlOvCVZBziKl8hy2C/gMtqfO2eTCwBx46v4g0DJRF5x3wuMtR4jdE8Br/fZrbEBVVbIB0Dh5Li6l4ju5mcNMw5MsfwkGtRbmSESFXU4voDq+KIkEBDSDMb0neuKc2D/z/MIBbF2pZD5DHRttXCEe5heUVbN+zU5cAS8h7bGc78ceDJpbEp0VXR+a55TdN5ez9LEnwMCuYdsWNnbw+3KFPhMbObsbvk3uq/OcGuStoBHlNUcQ9gMMV1US8/boqZfkMXGc9ATvlaq1TR2Y6eOE4QvwQIXYMR6eVS0f3BZer9RplzKj7XZ0BPmz9i4pKewxnywTPWJF6UfXd1eRTsq76jbiy99uzN1Rb/qMi86LRtuJmRDFC5tqNP4RV4J1w2rUCJgtWbx7d+XWIhBfW47DzAYnp88/I1yJpA5qoF6ce3h9AIfCJh/1OUlDfZcad7+a54hMoj/MZ6GC/W/p9LAGUm6jyAgXr8aQWQGc5I/zT1KFei4YmJO5F0KboQXkUfKhJTxrQ=
    - secure: jySsbGFacvgpkirg+eiCLtuE2Y1vw7kZoZj9fcpjjSP4CDpEFzM/g/gjLvdv6coFs+XJa/3FLPGXcUia6VTiG7IkEMsYhv+cs2B0g1xkgkGQW69/F/WdL1KDmVkL+Mrb9eoxBsDsBqPq/p43NYyQljf1s5pbSGT5ubLwMc467+EzvHw16Ii6SR4M1af8xodWmUZkS+mPWMvqpJmwqobXrxAsMJoNuJMnIJ0g7ur5p0+/waed1Qq5IjTJb8YBJ2Zjx5mHh38cGda3YNGU70KbDJpbtvoAu5E0OZ/7R/SpQdQMXDiyAbdUgkPyYodhc854+d2aEZxWor8yqAq9ZQQUjVtZ42Ex1YpuIr4AvTWhYM6/apnkaSFM5THQVe6iKeKg4sZpHPqyntQRFb0sBbL5RVPJyTegqkC/QHByLAUyj3fTj1bKQOyTmiAz1DrAnZFGDK0z+4UuKkJFhQsez0cXTDQBWAsLG9sgJ1tkJh2GWOtRXPmMv4uJZxRSPpVKbMZIXD4kHcD+e3EGsEyS58xAFORDloBl4qtf6MbAtzdJ0Cw14AeKAjKFcxoNef/HIH+S9M1BsQDHpy1IIeniQut3cCPpbUvLY98HHjCzgQLGXEXGrqTX7SRVbXS+crRKpvL8492rfaFOSO0aQHWEGFHl+/J67XN2QHbrqGxjOJSShhg=

before_install:
  - docker build -t bbb-demo:latest .

script:
  - docker login --username $DOCKER_HUB_USERNAME --password $DOCKER_HUB_PASSWORD
  - docker tag bbb-demo:latest $DOCKER_HUB_USERNAME/bbb-demo:prod
  - docker push $DOCKER_HUB_USERNAME/bbb-demo:prod
